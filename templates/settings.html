{% extends "layout.html" %}

{% block content %}
<div class="dashboard-header">
    <h1>Settings</h1>
</div>

<div class="card" style="max-width: 600px;">
    <h2>System Config</h2>
    <p style="color: var(--text-muted); margin-bottom: 2rem;">Manage your application data and preferences.</p>

    {% if current_user.role != 'candidate' %}
    <div class="setting-item glass-card" style="border-left: 4px solid var(--danger);">
        <h3 style="color: var(--danger);">Danger Zone: Reset Database</h3>
        <p style="color: var(--text-muted); margin-bottom: 1.5rem;">This will delete all Jobs and Candidates
            permanently. This action cannot be undone.</p>

        <form action="/settings/reset" method="POST">
            {% if current_user.role == 'recruiter' %}
            <div style="margin-bottom: 1rem;">
                <label style="display: block; font-size: 0.85rem; margin-bottom: 0.5rem;">Enter Admin PIN to
                    Confirm:</label>
                <input type="password" name="pin" placeholder="Enter PIN" required style="max-width: 200px;">
            </div>
            {% endif %}

            <input type="hidden" name="confirm" value="yes">
            <button type="submit" class="btn-danger" onclick="return confirm('Are you absolutely sure?')">
                <i class="fa-solid fa-trash-can"></i> Clear All Data
            </button>
        </form>
    </div>
    {% endif %}
</div>

<div class="card" style="max-width: 600px; margin-top: 2rem;">
    <h2>About</h2>
    <p><strong>NexGen ATS v2.0</strong> (Corporate Edition)</p>
    <p>Powered by <code>NexGen-CV-Encoder-v1</code> (Proprietary Engine)</p>
</div>
{% endblock %}